---
layout: default
---
<!-- Previous | Next page navigation -->
<div class="PageNavigation">
  {% if page.previous.url %}
    <!-- <a class="prev" href="{{page.previous.url}}">&laquo; {{page.previous.title}}</a> -->
    <a class="prev" href="{{page.previous.url}}">&laquo; Previous Post</a>
  {% else %}
    <a></a>   <!-- empty element to push next button to the right -->
  {% endif %}
  {% if page.next.url %}
    <!-- <a class="next" href="{{page.next.url}}">{{page.next.title}} &raquo;</a>   -->
    <a class="next" href="{{page.next.url}}">Next Post &raquo;</a>
  {% endif %}
</div>

<br>

<!-- Body of post -->
{% if page.lang %}
  <div class="post" lang="{{page.lang}}">
{% else %}
  <div class="post">
{% endif %}
  <span class="post-date">{{ page.date | date_to_string }}</span>
  <h1 class="post-title">{{ page.title }}</h1>
  {%  if page.tags.size > 0 %}
    <span class="post-tags">
      Tags: [&nbsp;
      {% for tag in page.tags %}
        {% capture tag_name %}{{ tag }}{% endcapture %}
        <a class="tag" href="/tag/{{ tag_name }}"><code class="highligher-rouge"><nobr>{{ tag_name }}</nobr></code>&nbsp;</a>    
      {% endfor %}
      ]
    </span>
  {%  endif %}
  <br>
  <br>
  <br>
  {% include toc.html html=content ordered=true %}
  {{ content }}
</div>

<br>
<br>
<br>
<hr>
<!-- Related Posts -->
<div class="relatedPosts">
  <h2>Related Posts</h2>

  {% assign maxRelated = 4 %}
  {% assign minCommonTags =  1 %}
  {% assign maxRelatedCounter = 0 %}

    {% for post in site.posts %}

      {% assign sameTagCount = 0 %}
      {% assign commonTags = '' %}

      {% for tag in post.tags %}
        {% if post.url != page.url %}
          {% if page.tags contains tag %}
            {% assign sameTagCount = sameTagCount | plus: 1 %}
            {% capture tagmarkup %} <span class="label label-default">{{ tag }}</span> {% endcapture %}
            {% assign commonTags = commonTags | append: tagmarkup %}
          {% endif %}
        {% endif %}
      {% endfor %}

      <ul>
      {% if sameTagCount >= minCommonTags %}
        <li>
          <a href="{{ site.baseurl }}{{ post.url }}">{{ post.title }}</a>
          Common Tags: {{ commonTags }}
        </li>
        {% assign maxRelatedCounter = maxRelatedCounter | plus: 1 %}
        {% if maxRelatedCounter >= maxRelated %}
          {% break %}
        {% endif %}
      {% endif %}
      </ul>

    {% endfor %}

</div>